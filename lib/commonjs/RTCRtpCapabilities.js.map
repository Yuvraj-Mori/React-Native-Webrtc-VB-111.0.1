{"version":3,"names":["_reactNative","require","_RTCRtpCodecCapability","_interopRequireDefault","obj","__esModule","default","_defineProperty","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","WebRTCModule","NativeModules","RTCRtpCapabilities","constructor","codecs","_codecs","freeze","exports","getCapabilities","endpoint","capabilities","senderGetCapabilities","receiverGetCapabilities","DEFAULT_AUDIO_CAPABILITIES","RTCRtpCodecCapability","mimeType","senderCapabilities","receiverCapabilities"],"sources":["RTCRtpCapabilities.ts"],"sourcesContent":["import { NativeModules } from 'react-native';\n\nimport RTCRtpCodecCapability from './RTCRtpCodecCapability';\nconst { WebRTCModule } = NativeModules;\n\n/**\n * @brief represents codec capabilities for senders and receivers. Currently\n * this only supports codec names and does not have other\n * fields like clockRate and numChannels and such.\n */\nexport default class RTCRtpCapabilities {\n    _codecs: RTCRtpCodecCapability[] = [];\n    constructor(codecs: RTCRtpCodecCapability[]) {\n        this._codecs = codecs;\n        Object.freeze(this);\n    }\n\n    get codecs() {\n        return this._codecs;\n    }\n}\n\n\nfunction getCapabilities(endpoint: 'sender' | 'receiver'): RTCRtpCapabilities | null {\n    switch (endpoint) {\n        case 'sender': {\n            const capabilities = WebRTCModule.senderGetCapabilities();\n\n            if (!capabilities) {\n                return null;\n            }\n\n            return new RTCRtpCapabilities(capabilities.codecs);\n        }\n\n        case 'receiver': {\n            const capabilities = WebRTCModule.receiverGetCapabilities();\n\n            if (!capabilities) {\n                return null;\n            }\n\n            return new RTCRtpCapabilities(capabilities.codecs);\n        }\n\n        default:\n            throw new TypeError('Invalid endpoint: ' + endpoint);\n    }\n}\n\n\n/**\n * Hardcoded audio capabilities based on the WebRTC native documentation:\n * https://webrtc.github.io/webrtc-org/faq/. The mime type is specified in\n * https://www.iana.org/assignments/rtp-parameters/rtp-parameters.xhtml#rtp-parameters-2.\n */\nexport const DEFAULT_AUDIO_CAPABILITIES = new RTCRtpCapabilities([\n    new RTCRtpCodecCapability({ mimeType: 'audio/G722' }),\n    new RTCRtpCodecCapability({ mimeType: 'audio/iLBC' }),\n]);\n\n// Initialize capabilities on module import\nexport const senderCapabilities = getCapabilities('sender');\nexport const receiverCapabilities = getCapabilities('receiver');\n\n"],"mappings":";;;;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AAEA,IAAAC,sBAAA,GAAAC,sBAAA,CAAAF,OAAA;AAA4D,SAAAE,uBAAAC,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,SAAAG,gBAAAH,GAAA,EAAAI,GAAA,EAAAC,KAAA,IAAAD,GAAA,GAAAE,cAAA,CAAAF,GAAA,OAAAA,GAAA,IAAAJ,GAAA,IAAAO,MAAA,CAAAC,cAAA,CAAAR,GAAA,EAAAI,GAAA,IAAAC,KAAA,EAAAA,KAAA,EAAAI,UAAA,QAAAC,YAAA,QAAAC,QAAA,oBAAAX,GAAA,CAAAI,GAAA,IAAAC,KAAA,WAAAL,GAAA;AAAA,SAAAM,eAAAM,GAAA,QAAAR,GAAA,GAAAS,YAAA,CAAAD,GAAA,2BAAAR,GAAA,gBAAAA,GAAA,GAAAU,MAAA,CAAAV,GAAA;AAAA,SAAAS,aAAAE,KAAA,EAAAC,IAAA,eAAAD,KAAA,iBAAAA,KAAA,kBAAAA,KAAA,MAAAE,IAAA,GAAAF,KAAA,CAAAG,MAAA,CAAAC,WAAA,OAAAF,IAAA,KAAAG,SAAA,QAAAC,GAAA,GAAAJ,IAAA,CAAAK,IAAA,CAAAP,KAAA,EAAAC,IAAA,2BAAAK,GAAA,sBAAAA,GAAA,YAAAE,SAAA,4DAAAP,IAAA,gBAAAF,MAAA,GAAAU,MAAA,EAAAT,KAAA;AAC5D,MAAM;EAAEU;AAAa,CAAC,GAAGC,0BAAa;;AAEtC;AACA;AACA;AACA;AACA;AACe,MAAMC,kBAAkB,CAAC;EAEpCC,WAAWA,CAACC,MAA+B,EAAE;IAAA1B,eAAA,kBADV,EAAE;IAEjC,IAAI,CAAC2B,OAAO,GAAGD,MAAM;IACrBtB,MAAM,CAACwB,MAAM,CAAC,IAAI,CAAC;EACvB;EAEA,IAAIF,MAAMA,CAAA,EAAG;IACT,OAAO,IAAI,CAACC,OAAO;EACvB;AACJ;AAACE,OAAA,CAAA9B,OAAA,GAAAyB,kBAAA;AAGD,SAASM,eAAeA,CAACC,QAA+B,EAA6B;EACjF,QAAQA,QAAQ;IACZ,KAAK,QAAQ;MAAE;QACX,MAAMC,YAAY,GAAGV,YAAY,CAACW,qBAAqB,CAAC,CAAC;QAEzD,IAAI,CAACD,YAAY,EAAE;UACf,OAAO,IAAI;QACf;QAEA,OAAO,IAAIR,kBAAkB,CAACQ,YAAY,CAACN,MAAM,CAAC;MACtD;IAEA,KAAK,UAAU;MAAE;QACb,MAAMM,YAAY,GAAGV,YAAY,CAACY,uBAAuB,CAAC,CAAC;QAE3D,IAAI,CAACF,YAAY,EAAE;UACf,OAAO,IAAI;QACf;QAEA,OAAO,IAAIR,kBAAkB,CAACQ,YAAY,CAACN,MAAM,CAAC;MACtD;IAEA;MACI,MAAM,IAAIN,SAAS,CAAC,oBAAoB,GAAGW,QAAQ,CAAC;EAC5D;AACJ;;AAGA;AACA;AACA;AACA;AACA;AACO,MAAMI,0BAA0B,GAAG,IAAIX,kBAAkB,CAAC,CAC7D,IAAIY,8BAAqB,CAAC;EAAEC,QAAQ,EAAE;AAAa,CAAC,CAAC,EACrD,IAAID,8BAAqB,CAAC;EAAEC,QAAQ,EAAE;AAAa,CAAC,CAAC,CACxD,CAAC;;AAEF;AAAAR,OAAA,CAAAM,0BAAA,GAAAA,0BAAA;AACO,MAAMG,kBAAkB,GAAGR,eAAe,CAAC,QAAQ,CAAC;AAACD,OAAA,CAAAS,kBAAA,GAAAA,kBAAA;AACrD,MAAMC,oBAAoB,GAAGT,eAAe,CAAC,UAAU,CAAC;AAACD,OAAA,CAAAU,oBAAA,GAAAA,oBAAA"}